<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Levantamento de Necessidades - Firjan SENAI</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 2rem;
    }
    h2 {
      background-color: #007EA7;
      color: white;
      padding: 10px;
    }
    label {
      font-weight: bold;
      display: block;
      margin-top: 15px;
    }
    input, textarea, select {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
    }
    .form-page {
      display: none;
    }
    .form-page.active {
      display: block;
    }
    button {
      margin-top: 20px;
      padding: 10px 20px;
      background: #007EA7;
      color: white;
      border: none;
      cursor: pointer;
    }
  </style>
</head>
<body>

<h1>Levantamento de Necessidades - Firjan SENAI</h1>

<form id="formulario">
  <!-- Formulário 1 -->
  <div class="form-page active" id="pagina1">
    <h2>CONTATOS</h2>

    <label>Nome do responsável pela demanda</label>
    <input type="text" name="responsavel_demanda">

    <label>Empresa</label>
    <input type="text" name="empresa">

    <label>Cargo</label>
    <input type="text" name="cargo">

    <label>E-mail</label>
    <input type="email" name="email_responsavel">

    <label>Telefone</label>
    <input type="text" name="telefone_responsavel">

    <label>Nome do ponto focal</label>
    <input type="text" name="ponto_focal">

    <label>E-mail do ponto focal</label>
    <input type="email" name="email_ponto_focal">

    <label>Telefone do ponto focal</label>
    <input type="text" name="telefone_ponto_focal">

    <h2>CENÁRIO</h2>

    <label>Qual o cenário da solução?</label>
    <textarea name="cenario_geral"></textarea>

    <label>Quais tipos de solução serão utilizados?</label>
    <textarea name="tipos_solucao"></textarea>

    <label>Plataforma para entrega da solução</label>
    <textarea name="plataforma_entrega"></textarea>

    <h2>PÚBLICO-ALVO</h2>

    <label>Quem é o público-alvo?</label>
    <textarea name="publico_alvo"></textarea>

    <label>Idade média</label>
    <input type="text" name="idade_media">

    <label>Nível de escolaridade</label>
    <input type="text" name="escolaridade">

    <button type="button" onclick="mostrarPagina(2)">Próximo</button>
  </div>

  <!-- Formulário 2 -->
  <div class="form-page" id="pagina2">
    <h2>INFORMAÇÕES GERAIS</h2>

    <label>Existe manual da marca para compartilhar?</label>
    <input type="text" name="manual_marca">

    <label>Existe manual de identidade visual para compartilhar?</label>
    <input type="text" name="identidade_visual">

    <label>Existe manual de identidade verbal para compartilhar?</label>
    <input type="text" name="identidade_verbal">

    <label>Existe manual de identidade sonora para compartilhar?</label>
    <input type="text" name="identidade_sonora">

    <label>Existe alguma identidade visual extra a ser seguida?</label>
    <input type="text" name="identidade_visual_extra">

    <label>Existem restrições quanto a cor, imagem, logomarca etc.?</label>
    <input type="text" name="restricoes_visuais">

    <label>É necessário contemplar personagens? (gênero, idade, etnia, tipo e cor do cabelo, cor dos olhos)</label>
    <textarea name="personagens_detalhes"></textarea>

    <label>Informar quantos personagens</label>
    <input type="text" name="qtd_personagens">

    <label>Informar estilo dos personagens</label>
    <input type="text" name="estilo_personagens">

    <label>Detalhar vestimenta caso sejam previstos personagens</label>
    <textarea name="vestimenta_personagens"></textarea>

    <label>Detalhar cenário caso sejam previstos personagens</label>
    <textarea name="cenario_personagens"></textarea>

    <label>O cliente possui banco de imagens?</label>
    <input type="text" name="banco_imagens_cliente">

    <label>É necessário contratar banco de imagens?</label>
    <input type="text" name="contratar_banco_imagens">

    <label>É necessário legenda para pessoas com deficiência auditiva?</label>
    <input type="text" name="legenda_acessibilidade">

    <label>Especificação da legenda</label>
    <input type="text" name="legenda_detalhe">

    <label>É necessário áudio para pessoas com deficiência visual?</label>
    <input type="text" name="audio_acessibilidade">

    <label>Especificação do áudio</label>
    <input type="text" name="audio_detalhe">

    <label>As soluções precisam ser responsivas?</label>
    <input type="text" name="design_responsivo">

    <label>É necessária a visualização offline?</label>
    <input type="text" name="visualizacao_offline">

    <button type="submit">Enviar</button>
  </div>
</form>

<script>
  document.getElementById("formulario").addEventListener("submit", async function(e) {
    e.preventDefault();
    const form = e.target;
    const dados = Object.fromEntries(new FormData(form).entries());

    const response = await fetch("https://firjan-form-api.onrender.com/api/enviar", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(dados)
    });

    const msg = document.getElementById("mensagemStatus");
    msg.style.marginTop = "20px";

    if (response.ok) {
      msg.innerText = "Formulário enviado com sucesso!";
      form.reset();
    } else {
      msg.innerText = "Erro ao enviar formulário.";
    }
  });
</script>
</body>
</html>
